{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lalit/OneDrive/Desktop/MANL/frontend/components/ScrollSequence.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport { motion, useScroll, useTransform, useSpring, AnimatePresence } from 'framer-motion';\r\nimport { ArrowRight, ChevronDown } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst FRAME_COUNT = 242;\r\nconst SCROLL_HEIGHT = 4000; // 400vh equivalent in pixels (approx)\r\n\r\nexport default function ScrollSequence() {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const [images, setImages] = useState<HTMLImageElement[]>([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const { scrollYProgress } = useScroll({\r\n        target: containerRef,\r\n        offset: [\"start start\", \"end end\"]\r\n    });\r\n\r\n    const smoothProgress = useSpring(scrollYProgress, {\r\n        stiffness: 200,\r\n        damping: 30,\r\n        restDelta: 0.001\r\n    });\r\n\r\n    // --- Image Preloading ---\r\n    useEffect(() => {\r\n        const loadImages = async () => {\r\n            const loadedImages: HTMLImageElement[] = [];\r\n            const promises = [];\r\n\r\n            for (let i = 1; i <= FRAME_COUNT; i++) {\r\n                const img = new Image();\r\n                // Pad with zeros: 001, 002, ... 242\r\n                const filename = `ezgif-frame-${String(i).padStart(3, '0')}.jpg`;\r\n                img.src = `/frames/${filename}`;\r\n\r\n                const promise = new Promise<void>((resolve) => {\r\n                    img.onload = () => resolve();\r\n                    img.onerror = () => {\r\n                        console.warn(`Failed to load frame: ${filename}`);\r\n                        resolve(); // Resolve anyway to avoid blocking\r\n                    };\r\n                });\r\n\r\n                promises.push(promise);\r\n                loadedImages.push(img);\r\n            }\r\n\r\n            await Promise.all(promises);\r\n            setImages(loadedImages);\r\n            setLoaded(true);\r\n        };\r\n\r\n        loadImages();\r\n    }, []);\r\n\r\n    // --- Canvas Rendering Loop ---\r\n    useEffect(() => {\r\n        if (!loaded || !canvasRef.current || images.length === 0) return;\r\n\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d', { alpha: false }); // Optimize: alpha: false\r\n        if (!ctx) return;\r\n\r\n        // Set high-DPI canvas\r\n        const updateDimensions = () => {\r\n            canvas.width = window.innerWidth;\r\n            canvas.height = window.innerHeight;\r\n\r\n            // Initial Draw\r\n            const firstImg = images[0];\r\n            const scale = Math.max(canvas.width / firstImg.width, canvas.height / firstImg.height);\r\n            const x = (canvas.width / 2) - (firstImg.width / 2) * scale;\r\n            const y = (canvas.height / 2) - (firstImg.height / 2) * scale;\r\n            ctx.drawImage(firstImg, x, y, firstImg.width * scale, firstImg.height * scale);\r\n        };\r\n\r\n        updateDimensions();\r\n        window.addEventListener('resize', updateDimensions);\r\n\r\n        // Render loop based on smooth scroll progress\r\n        const render = () => {\r\n            const progress = smoothProgress.get();\r\n            const frameIndex = Math.min(\r\n                FRAME_COUNT - 1,\r\n                Math.floor(progress * (FRAME_COUNT - 1))\r\n            );\r\n\r\n            const img = images[frameIndex];\r\n            if (img) {\r\n                const scale = Math.max(canvas.width / img.width, canvas.height / img.height);\r\n                const x = (canvas.width / 2) - (img.width / 2) * scale;\r\n                const y = (canvas.height / 2) - (img.height / 2) * scale;\r\n\r\n                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear before draw? Actually drawImage covers it if aspect ratio handled.\r\n                // Using cover strategy\r\n                ctx.drawImage(img, x, y, img.width * scale, img.height * scale);\r\n            }\r\n\r\n            requestAnimationFrame(render);\r\n        };\r\n\r\n        const animationId = requestAnimationFrame(render);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', updateDimensions);\r\n            cancelAnimationFrame(animationId);\r\n        };\r\n    }, [loaded, images, smoothProgress]);\r\n\r\n\r\n    // --- Text Animation Logic ---\r\n\r\n    // 1. Hero Title Reveal (0 - 25%)\r\n    const heroOpacity = useTransform(scrollYProgress, [0, 0.15, 0.25], [1, 1, 0]);\r\n    const heroScale = useTransform(scrollYProgress, [0, 0.25], [1, 1.1]);\r\n    const heroY = useTransform(scrollYProgress, [0, 0.25], [0, -50]);\r\n\r\n    // 2. Problem Statement Narratives\r\n    const text1Opacity = useTransform(scrollYProgress, [0.25, 0.30, 0.35, 0.40], [0, 1, 1, 0]); // Adverse drug reactions\r\n    const text2Opacity = useTransform(scrollYProgress, [0.40, 0.45, 0.50, 0.55], [0, 1, 1, 0]); // Traditional prescribing\r\n    const text3Opacity = useTransform(scrollYProgress, [0.55, 0.60, 0.65, 0.70], [0, 1, 1, 0]); // One variant\r\n    const text4Opacity = useTransform(scrollYProgress, [0.70, 0.75, 0.80, 0.85], [0, 1, 1, 0]); // Our AI decodes\r\n    const text5Opacity = useTransform(scrollYProgress, [0.85, 0.90, 0.95, 1.0], [0, 1, 1, 0]); // Precision medicine\r\n\r\n    // CTA Section Visibility (After scroll ends)\r\n    // Actually, the prompt says \"FINAL CTA SECTION After scroll sequence ends\".\r\n    // So we can put it below the h-[400vh] container or at the very end.\r\n    // Let's create a separate visual block for it relative to progress, or just stack it after.\r\n\r\n    return (\r\n        <div className=\"bg-black relative\">\r\n\r\n            {/* Loading State */}\r\n            <AnimatePresence>\r\n                {!loaded && (\r\n                    <motion.div\r\n                        initial={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black text-white\"\r\n                    >\r\n                        <div className=\"flex flex-col items-center gap-4\">\r\n                            <div className=\"w-16 h-16 border-t-2 border-cyan-500 rounded-full animate-spin\"></div>\r\n                            <p className=\"tracking-widest text-xs uppercase text-slate-500\">Loading Experience</p>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Scroll Container */}\r\n            <div ref={containerRef} className=\"h-[500vh] relative\">\r\n\r\n                {/* Sticky Canvas Layer */}\r\n                <div className=\"sticky top-0 h-screen w-full overflow-hidden\">\r\n                    <canvas\r\n                        ref={canvasRef}\r\n                        className=\"absolute inset-0 w-full h-full object-cover pointer-events-none\"\r\n                    />\r\n\r\n                    {/* 1. Hero Title Overlay */}\r\n                    <motion.div\r\n                        style={{ opacity: heroOpacity, scale: heroScale, y: heroY }}\r\n                        className=\"absolute inset-0 flex flex-col items-center justify-center text-center z-10 px-4\"\r\n                    >\r\n                        <h1 className=\"text-6xl md:text-8xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 mb-4\">\r\n                            BIOCYBERX\r\n                        </h1>\r\n                        <p className=\"text-xl md:text-2xl text-cyan-400/80 font-light tracking-widest uppercase\">\r\n                            AI-Powered Pharmacogenomic Risk Intelligence\r\n                        </p>\r\n                        <motion.div\r\n                            animate={{ y: [0, 10, 0] }}\r\n                            transition={{ repeat: Infinity, duration: 2 }}\r\n                            className=\"absolute bottom-12 text-slate-500\"\r\n                        >\r\n                            <ChevronDown />\r\n                        </motion.div>\r\n                    </motion.div>\r\n\r\n                    {/* 2. Narrative Overlays */}\r\n                    {/* Common styles for narrative text */}\r\n                    <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none z-20 px-6\">\r\n\r\n                        <motion.h2\r\n                            style={{ opacity: text1Opacity }}\r\n                            className=\"absolute text-3xl md:text-5xl font-medium text-white text-center max-w-4xl leading-tight\"\r\n                        >\r\n                            Adverse drug reactions remain one of the leading causes of preventable clinical harm.\r\n                        </motion.h2>\r\n\r\n                        <motion.h2\r\n                            style={{ opacity: text2Opacity }}\r\n                            className=\"absolute text-3xl md:text-5xl font-medium text-white text-center max-w-4xl leading-tight\"\r\n                        >\r\n                            Traditional prescribing ignores genetic variability hidden within a patientâ€™s DNA.\r\n                        </motion.h2>\r\n\r\n                        <motion.h2\r\n                            style={{ opacity: text3Opacity }}\r\n                            className=\"absolute text-3xl md:text-5xl font-medium text-white text-center max-w-4xl leading-tight\"\r\n                        >\r\n                            One variant can transform a safe drug into a toxic risk.\r\n                        </motion.h2>\r\n\r\n                        <motion.h2\r\n                            style={{ opacity: text4Opacity }}\r\n                            className=\"absolute text-3xl md:text-5xl font-medium text-white text-center max-w-4xl leading-tight\"\r\n                        >\r\n                            Our AI decodes genomic variants from VCF files and maps them to drug-specific risk.\r\n                        </motion.h2>\r\n\r\n                        <motion.h2\r\n                            style={{ opacity: text5Opacity }}\r\n                            className=\"absolute text-3xl md:text-5xl font-medium text-white text-center max-w-4xl leading-tight\"\r\n                        >\r\n                            Precision medicine is no longer the future. It is now.\r\n                        </motion.h2>\r\n                    </div>\r\n\r\n                    {/* Gradient Overlay for Readability */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/50 pointer-events-none\" />\r\n                </div>\r\n            </div>\r\n\r\n            {/* 4. Final CTA Section (After Scroll) */}\r\n            <section className=\"h-screen bg-black flex flex-col items-center justify-center relative z-30 border-t border-white/5\">\r\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-slate-900/40 via-black to-black\" />\r\n\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 30 }}\r\n                    whileInView={{ opacity: 1, y: 0 }}\r\n                    viewport={{ once: true }}\r\n                    transition={{ duration: 0.8 }}\r\n                    className=\"relative z-10 text-center space-y-8 px-6\"\r\n                >\r\n                    <h2 className=\"text-5xl md:text-7xl font-bold text-white tracking-tight\">\r\n                        Ready to Analyze <br /> Your Genetic Risk?\r\n                    </h2>\r\n                    <p className=\"text-xl text-slate-400 max-w-2xl mx-auto font-light\">\r\n                        Upload your genomic data and receive drug-specific precision insights immediately.\r\n                    </p>\r\n\r\n                    <button\r\n                        onClick={() => router.push('/dashboard')}\r\n                        className=\"group relative inline-flex items-center gap-3 px-8 py-4 bg-white text-black rounded-xl font-semibold text-lg hover:bg-cyan-50 transition-all duration-300 hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.5)]\"\r\n                    >\r\n                        Launch Dashboard\r\n                        <ArrowRight className=\"w-5 h-5 group-hover:translate-x-1 transition-transform\" />\r\n                    </button>\r\n                </motion.div>\r\n\r\n                <footer className=\"absolute bottom-8 text-center w-full\">\r\n                    <p className=\"text-slate-600 text-sm tracking-widest uppercase\">\r\n                        Built for the Era of Precision Medicine.\r\n                    </p>\r\n                </footer>\r\n            </section>\r\n\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}